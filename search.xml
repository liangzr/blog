<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>ã€Œè¯‘ã€Why Do We Write super(props)?</title>
      <link href="/2019/03/09/fork__why_do_we_write_super/"/>
      <url>/2019/03/09/fork__why_do_we_write_super/</url>
      
        <content type="html"><![CDATA[<p><a href="https://reactjs.org/docs/hooks-intro.html" target="_blank" rel="noopener">React Hooks</a> æ˜¯å½“ä¸‹ç¤¾åŒºçš„çƒ­é—¨ï¼Œä½†æˆ‘å´æƒ³ä» <em>class</em> ç»„ä»¶çš„ä¸€äº›æœ‰è¶£å®ç°è®²èµ·ï¼</p><p>ç†è§£è¿™äº›å†…å®¹å¯¹ä½ å¦‚ä½•è¿ç”¨ React æ¥è¯´å¹¶ä¸é‡è¦ï¼Œä½†å¦‚æœä½ å–œæ¬¢æ¢å¯»äº‹ç‰©åŠ¨ä½œçš„åŸç†çš„è¯ï¼Œå°±å¾ˆæœ‰è¶£äº†ã€‚</p><hr><p>æˆ‘å†™è¿‡ä¸è®¡å…¶æ•°çš„ <code>super(props)</code> :</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Checkbox</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123; <span class="attr">isOn</span>: <span class="literal">true</span> &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œä½¿ç”¨ <a href="https://github.com/tc39/proposal-class-fields" target="_blank" rel="noopener">class fields proposal</a> å¯ä»¥è®©æˆ‘çœå»è¿™ç§å†™æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Checkbox</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123; <span class="attr">isOn</span>: <span class="literal">true</span> &#125;;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>React ä» 0.13 å¢åŠ å¯¹æ™®é€š class çš„æ”¯æŒå¼€å§‹ï¼Œå°±è®¡åˆ’è¦ä½¿ç”¨è¿™ç§è¯­æ³•ã€‚ç°åœ¨è¿™ç§å®šä¹‰ <code>constructor</code> ç„¶åè°ƒç”¨ <code>super(props)</code> çš„åšæ³•åªæ˜¯ <code>class field</code> æ¥ä¸´ä¹‹å‰çš„ä¸€ç§æ›¿ä»£æ–¹æ¡ˆã€‚</p><a id="more"></a><p>ä½†æ˜¯ç°åœ¨è®©æˆ‘ä»¬å›åˆ°è¿™ä¸ªä¾‹å­ï¼Œåªä½¿ç”¨ ES2015 çš„ç‰¹æ€§ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">lass Checkbox extends React.Component &#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123; <span class="attr">isOn</span>: <span class="literal">true</span> &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦è°ƒç”¨ <code>super</code>ï¼Ÿå¯ä»¥çœå»å—ï¼Ÿå¦‚æœæˆ‘ä»¬ä¸å¾—ä¸è°ƒç”¨å®ƒï¼Œä¸ä¼  <code>props</code> ä¼šæ€ä¹ˆæ ·ï¼Ÿé™¤äº† <code>props</code> è¿˜éœ€è¦ä¼ é€’åˆ«çš„å‚æ•°å—ï¼Ÿæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ã€‚</p><hr><p>åœ¨ JavaScript ä¸­, <code>super</code> æŒ‡çš„æ˜¯çˆ¶ç±»çš„ constructorï¼ˆåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œå®ƒæŒ‡çš„å°±æ˜¯ React.Componentï¼‰</p><p>è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ constructor ä¸­ï¼Œä½ åªèƒ½åœ¨è°ƒç”¨çˆ¶ç±»çš„ constructor ä¹‹åæ‰èƒ½ä½¿ç”¨ <code>this</code>ï¼ŒJavaScript ä¸ä¼šè®©ä½ è¿™æ ·åšï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Checkbox</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="comment">// ğŸ”´ Canâ€™t use `this` yet</span></span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="comment">// âœ… Now itâ€™s okay though</span></span><br><span class="line">    <span class="keyword">this</span>.state = &#123; <span class="attr">isOn</span>: <span class="literal">true</span> &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ‰ä¸€ä¸ªå¾ˆå¥½çš„ç†ç”±è¯´æ˜ä¸ºä»€ä¹ˆ JavaScript å¼ºåˆ¶ä½ åœ¨ä½¿ç”¨ <code>this</code> ä¹‹å‰è¦æ‰§è¡Œçˆ¶ç±»çš„ constructorï¼Œå‚è€ƒä¸‹é¢è¿™ä¸ªç±»ç»“æ„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PolitePerson</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">    <span class="keyword">this</span>.greetColleagues(); <span class="comment">// ğŸ”´ This is disallowed, read below why</span></span><br><span class="line">    <span class="keyword">super</span>(name);</span><br><span class="line">  &#125;</span><br><span class="line">  greetColleagues() &#123;</span><br><span class="line">    alert(<span class="string">'Good morning folks!'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœä½ åœ¨è°ƒç”¨ <code>super</code> ä¹‹å‰å°±è°ƒç”¨äº† <code>this</code>ï¼Œä¸€ä¸ªæœˆä¹‹åï¼Œæˆ‘ä»¬å¯èƒ½ä¿®æ”¹äº† <code>greetColleagues</code> æ–¹æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">greetColleagues() &#123;</span><br><span class="line">  alert(<span class="string">'Good morning folks!'</span>);</span><br><span class="line">  alert(<span class="string">'My name is '</span> + <span class="keyword">this</span>.name + <span class="string">', nice to meet you!'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†æˆ‘ä»¬å¿˜è®°äº† <code>this.greetColleagues()</code> æ˜¯åœ¨ <code>super()</code> ä¹‹å‰è°ƒç”¨çš„ï¼Œè¿™ä¸ªæ—¶å€™ <code>this.name</code> è¿˜æ²¡æœ‰è¢«å®šä¹‰ï¼æ‰€ä»¥åƒè¿™æ ·çš„ä»£ç å°±å¾ˆä¸å¥½ç»´æŠ¤ã€‚</p><p>ä¸ºäº†é¿å¼€è¿™ä¸ªé™·é˜±ï¼Œ<strong>JavaScript å¼ºåˆ¶ä½ å¦‚æœæƒ³è¦åœ¨ constructor ä¸­ä½¿ç”¨ <code>this</code>ï¼Œåˆ™å¿…é¡»å…ˆè°ƒç”¨ <code>super</code></strong>ï¼Œè®©çˆ¶ç±»å…ˆå¤„ç†å®Œè¯¥åšçš„äº‹æƒ…ï¼è¿™ä¸ªé™åˆ¶ä¹Ÿé€‚ç”¨äºä½¿ç”¨ç±»æ¥å®šä¹‰ React ç»„ä»¶ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">  <span class="keyword">super</span>(props);</span><br><span class="line">  <span class="comment">// âœ… Okay to use `this` now</span></span><br><span class="line">  <span class="keyword">this</span>.state = &#123; <span class="attr">isOn</span>: <span class="literal">true</span> &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨æˆ‘ä»¬å°±åªå‰©ä¸‹å¦å¤–ä¸€ä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆè¦ä¼ é€’ <code>props</code> å‚æ•°ï¼Ÿ</p><hr><p>ä½ å¯èƒ½è®¤ä¸ºå‘ <code>super</code> ä¼ é€’ <code>props</code> æ˜¯æœ‰å¿…è¦çš„ï¼Œä»¥ä¾¿ <code>React.Component</code> çš„ constructor å¯ä»¥åˆå§‹åŒ– <code>this.props</code>ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Inside React</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">this</span>.props = props;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>äº‹å®ä¹Ÿå·®ä¸å¤šï¼Œå‡†ç¡®åœ°è¯´ï¼Œè¿™æ˜¯<a href="https://github.com/facebook/react/blob/1d25aa5787d4e19704c049c3cfa985d3b5190e0d/packages/react/src/ReactBaseClasses.js#L22" target="_blank" rel="noopener">å®ƒçš„è¿‡ç¨‹</a></p><p>ä½†ä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œå³ä½¿ä½ æ²¡æœ‰æŠŠ <code>props</code> å‚æ•°ä¼ é€’ç»™ <code>super()</code>ï¼Œä½ è¿˜æ˜¯å¯ä»¥åœ¨ <code>render</code> å’Œå…¶å®ƒæ–¹æ³•ä¸­è®¿é—® <code>this.props</code>ã€‚ï¼ˆä¸ä¿¡çš„è¯å¯ä»¥è¯•è¯•çœ‹ï¼‰</p><p>æ‰€ä»¥å®ƒå†…éƒ¨æ˜¯å¦‚ä½•è¿ä½œçš„ï¼Ÿäº‹å®ä¸Šï¼ŒReact ä¼šåœ¨ä½ è°ƒç”¨ constructor ä¹‹åé‡æ–°èµ‹å€¼ <code>props</code>:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Inside React</span></span><br><span class="line"><span class="keyword">const</span> instance = <span class="keyword">new</span> YourComponent(props);</span><br><span class="line">instance.props = props;</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥å³ä½¿ä½ å¿˜äº†æŠŠ <code>props</code> ä¼ é€’ç»™ <code>super()</code>ï¼ŒReact ä¹Ÿä¼šåœ¨ä¹‹åæ­£ç¡®çš„èµ‹å€¼ï¼Œè¿™å°±æ˜¯åŸå› ã€‚</p><p>å½“ React æ”¯æŒ class çš„æ—¶å€™ï¼Œå¹¶ä¸åªæ˜¯ç®€å•çš„æ·»åŠ äº† ES6 çš„ç‰¹æ€§ï¼Œå®ƒçš„ç›®æ ‡æ˜¯å°½å¯èƒ½å¹¿æ³›æŠ½è±¡åœ°æ”¯æŒ classã€‚å› ä¸ºä¸èƒ½ç¡®å®š ClojureScriptã€CoffeeScriptã€ES6ã€Fableã€Scala.jsã€TypeScript æˆ–å…¶å®ƒçš„æ–¹å¼æ˜¯å¦‚ä½•å®šä¹‰ä¸€ä¸ªç»„ä»¶çš„ï¼Œæ‰€ä»¥ React æ•…æ„åœ°ä¸å…³å¿ƒ <code>super()</code> æ–¹æ³•æœ‰æ²¡æœ‰è¢«è°ƒç”¨â€”â€”å°½ç®¡è¿™æ˜¯ ES6 class è§„å®šçš„</p><p>æ‰€ä»¥ï¼Œè¿™æ˜¯ä¸æ˜¯å°±æ„å‘³ç€ï¼Œä½ å¯ä»¥åªå†™ <code>super()</code> è€Œä¸ç”¨ <code>super(props)</code> äº†ï¼Ÿ</p><p><strong>ææ€•å¹¶ä¸æ˜¯è¿™æ ·ï¼Œå› ä¸ºå®ƒä¾ç„¶ä»¤äººå›°æƒ‘ã€‚</strong> å½“ç„¶ï¼ŒReact ä¼šåœ¨ constructor ä¹‹åé‡æ–°èµ‹å€¼ <code>this.props</code>ï¼Œä½†æ˜¯åœ¨ constructor å†…éƒ¨è°ƒç”¨äº† <code>super</code> ä¹‹åï¼Œ<code>this.props</code> ä¾ç„¶æ˜¯ <code>undefined</code>ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Inside React</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">this</span>.props = props;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Inside your code</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Button</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(); <span class="comment">// ğŸ˜¬ We forgot to pass props</span></span><br><span class="line">    <span class="built_in">console</span>.log(props);      <span class="comment">// âœ… &#123;&#125;</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.props); <span class="comment">// ğŸ˜¬ undefined </span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœæ˜¯åœ¨ constructor ä¸­è°ƒç”¨çš„æŸäº›æ–¹æ³•ä¸­é‡åˆ°äº†è¿™ç§é—®é¢˜ï¼Œå°±æ›´éš¾å®šä½äº†ã€‚<strong>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¦å¼ºè°ƒè¦åšæŒ<code>super(props)</code>ï¼Œå³ä½¿æ²¡æœ‰ä¸¥æ ¼é™åˆ¶</strong>ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Button</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props); <span class="comment">// âœ… We passed props</span></span><br><span class="line">    <span class="built_in">console</span>.log(props);      <span class="comment">// âœ… &#123;&#125;</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.props); <span class="comment">// âœ… &#123;&#125;</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å¯ä»¥ä¿è¯ <code>this.props</code> åœ¨ constructor æ‰§è¡Œå®Œä¹‹å‰å°±æ­£ç¡®èµ‹å€¼ã€‚</p><hr><p>è¿˜æœ‰æœ€åä¸€ä¸ª React ç”¨æˆ·å¯èƒ½ä¼šå›°æƒ‘çš„é—®é¢˜ã€‚</p><p>ä½ å¯èƒ½æ³¨æ„åˆ°äº†ï¼Œå½“ä½ ä½¿ç”¨ Context API çš„æ—¶å€™ï¼ˆæ— è®ºæ˜¯æ—§çš„ <code>contextTypes</code> æˆ–è€…åœ¨ React 16.6 ä¸­æ–°æ·»åŠ çš„ <code>contextType</code> APIï¼‰ï¼Œ<code>context</code> æ˜¯ constructor çš„ç¬¬äºŒä¸ªå‚æ•°ã€‚</p><p>æ‰€ä»¥ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸å†™æˆ <code>super(props, context)</code>ï¼Ÿç¡®å®å¯ä»¥è¿™æ ·å†™ï¼Œä½†æ˜¯ context ç”¨çš„ç›¸å¯¹æ¯”è¾ƒå°‘ï¼Œæ‰€ä»¥ä¹Ÿä¸å®¹æ˜“ç¢°åˆ°è¿™ä¸ªé™·é˜±ã€‚</p><p>å¦‚æœä½¿ç”¨ class fields proposal çš„è¯ï¼Œè¿™ä¸ªé™·é˜±å°±ä¸å¤å­˜åœ¨äº†ã€‚ä¸éœ€è¦ç‰¹åˆ«åœ°å†™ä¸€ä¸ª constructorï¼Œæ‰€ä»¥çš„å˜é‡éƒ½å¯ä»¥è‡ªåŠ¨ä¼ é€’ã€‚è¿™æ ·ä¹Ÿå¯ä»¥åœ¨ <code>state = {}</code> ä¸­ç›´æ¥å¼•ç”¨ <code>this.props</code> æˆ– <code>this.context</code> äº†ã€‚</p><p>å½“ç„¶ï¼Œä½¿ç”¨ React Hooks çš„è¯ï¼Œæˆ‘ä»¬ç”šè‡³ä¸éœ€è¦ä½¿ç”¨ <code>super</code> æˆ– <code>this</code>ï¼Œä½†è¿™æ˜¯ä»¥åçš„äº‹å„¿äº†ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> react </tag>
            
            <tag> reprinted </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•æŒ‰åŸé¡ºåºæ‰“å°å‡ºå¯¹è±¡çš„å±æ€§ï¼Ÿ</title>
      <link href="/2019/03/09/how_to_print_properties_of_the_object_by_originally/"/>
      <url>/2019/03/09/how_to_print_properties_of_the_object_by_originally/</url>
      
        <content type="html"><![CDATA[<p>æ˜¨å¤©åœ¨ç¾¤é‡Œçœ‹åˆ°æœ‰äººé—®:</p><blockquote><p>ç½‘å‹ï¼šâ€œ<strong>Object.keysä¼šç»™å€¼æ’åºï¼Œé‚£ç”¨å“ªä¸ªæ–¹æ³•å–å¯¹è±¡å±æ€§èƒ½ä¸æ’åºçš„ï¼Ÿ</strong>â€<br>æˆ‘ï¼šâ€œå¯¹è±¡çš„å±æ€§æœ‰é¡ºåºå—ï¼Ÿâ€<br>ç½‘å‹ï¼šâ€œè¿™ä¸ªå°±ä¼šæŒ‰ç…§ä»å°åˆ°å¤§æ’åºï¼Œæˆ‘åªæ˜¯æƒ³ä¿æŒåŸæ ·~~â€ (å¦‚ä¸‹)<br>æˆ‘ï¼šâ€forâ€¦in åº”è¯¥ä¸ä¼šâ€<br>â€¦â€¦</p></blockquote><p><img src="https://ws4.sinaimg.cn/large/006tKfTcly1g0wixmegiij30gk02vglu.jpg" alt></p><p>ç»“æœæˆ‘è¯•äº†ä¸‹å‘ç° <code>for..in</code> ä¹Ÿä¼šï¼Œæœ€ç»ˆæˆ‘è¯•äº†å…­ç§æ–¹æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123; <span class="number">100</span>: <span class="string">'a'</span>, <span class="number">2</span>: <span class="string">'b'</span>, <span class="number">7</span>: <span class="string">'c'</span> &#125;</span><br><span class="line"> </span><br><span class="line"><span class="built_in">Object</span>.keys(obj)                          <span class="comment">// ["2", "7", "100"]</span></span><br><span class="line"><span class="built_in">Object</span>.values(obj)                        <span class="comment">// ["b", "c", "a"]</span></span><br><span class="line"><span class="built_in">Object</span>.entries(obj)                       <span class="comment">// "2,b,7,c,100,a", toString() ä¹‹å</span></span><br><span class="line"><span class="keyword">for</span> (key <span class="keyword">in</span> obj) &#123; <span class="built_in">console</span>.log(key) &#125;     <span class="comment">// 2, 7, 10</span></span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyNames(obj)           <span class="comment">// ["2", "7", "100"]</span></span><br><span class="line"><span class="built_in">Reflect</span>.ownKeys(obj)                      <span class="comment">// ["2", "7", "100"]</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œä»¥ä¸Šæ–¹æ³•éƒ½æ— ä¸€ä¾‹å¤–åœ°ä»¥ <code>{ 2: &#39;b&#39;, 7: &#39;c&#39;, 100: &#39;a&#39; }</code> çš„æ–¹å¼æ‰“å°å‡ºäº†ç›¸å…³å€¼ï¼Œé‚£è¿™ä¸ªé—®é¢˜çš„å½±å“åœ¨å“ªé‡Œå‘¢ï¼Ÿ</p><a id="more"></a><p>å‡å¦‚ä½ ä»æ¥å£ä¸­è·å–ä¸€æ®µ JSON æ•°æ®å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"100"</span>: &#123; ... &#125;,</span><br><span class="line">  <span class="string">"2"</span>: &#123; ... &#125;,</span><br><span class="line">  <span class="string">"7"</span>: &#123; ... &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä¸ªæ•°æ®å¯èƒ½æ˜¯ç»è¿‡åç«¯æ’åºçš„ï¼Œå¹¶ä¸”æ•°æ®ä¸­å¹¶æ²¡æœ‰å¸¦æœ‰å¯ä¾›æ’åºçš„ä¿¡æ¯ï¼Œæ¯«æ— ç–‘é—®ç»è¿‡ JS çš„é‡æ–°æ’åºåï¼Œå®ƒçš„æ’åºä¿¡æ¯å°±ä¸¢å¤±äº†ï¼Œå‡å¦‚æˆ‘å°±æ˜¯ä¸æƒ³ä¸¢å¤±å‘¢ï¼Ÿ</p><p>æ¬²çŸ¥å…¶ç„¶ï¼Œå…ˆçŸ¥å…¶æ‰€ä»¥ç„¶ã€‚åœ¨äº†è§£å®ƒå¦‚æœéå†å±æ€§ä¹‹å‰ï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦çŸ¥é“çš„æ˜¯ï¼Œåœ¨ V8 ä¸­å¯¹è±¡æ˜¯å¦‚ä½•å­˜å‚¨å±æ€§çš„å‘¢ï¼Ÿ</p><h2 id="V8-ä¸­å¯¹è±¡çš„å±æ€§"><a href="#V8-ä¸­å¯¹è±¡çš„å±æ€§" class="headerlink" title="V8 ä¸­å¯¹è±¡çš„å±æ€§"></a>V8 ä¸­å¯¹è±¡çš„å±æ€§</h2><h2 id="æœ‰æ²¡æœ‰åŠæ³•æŒ‰åŸé¡ºåºæ‰“å°ï¼Ÿ"><a href="#æœ‰æ²¡æœ‰åŠæ³•æŒ‰åŸé¡ºåºæ‰“å°ï¼Ÿ" class="headerlink" title="æœ‰æ²¡æœ‰åŠæ³•æŒ‰åŸé¡ºåºæ‰“å°ï¼Ÿ"></a>æœ‰æ²¡æœ‰åŠæ³•æŒ‰åŸé¡ºåºæ‰“å°ï¼Ÿ</h2><h2 id="TL-DR"><a href="#TL-DR" class="headerlink" title="TL; DR;"></a>TL; DR;</h2><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul><li><a href="https://v8.dev/blog/fast-properties" target="_blank" rel="noopener">Fast properties in V8</a></li><li><a href="https://v8.dev/blog/fast-for-in" target="_blank" rel="noopener">Fast for-in in V8</a></li><li><a href="https://bugs.chromium.org/p/v8/issues/detail?id=164" target="_blank" rel="noopener">Issue 164: Wrong order in Object properties interation</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> v8 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/1970/01/01/hello-world/"/>
      <url>/1970/01/01/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> other </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
