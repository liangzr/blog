<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="222px" preserveAspectRatio="none" style="width:451px;height:222px;" version="1.1" viewBox="0 0 451 222" width="451px" zoomAndPan="magnify"><defs><filter height="300%" id="f1cqch031cl51n" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="240" cy="20" fill="#000000" filter="url(#f1cqch031cl51n)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#82F49C" filter="url(#f1cqch031cl51n)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="170" x="155" y="50"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="150" x="165" y="71.1387">this.setState(newState)</text><polygon fill="#FEFECE" filter="url(#f1cqch031cl51n)" points="187,103.9688,293,103.9688,305,115.9688,293,127.9688,187,127.9688,175,115.9688,187,103.9688" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="187" y="119.7769">isBatchingUpdates</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="109" y="113.3745">处在更新流中</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="305" y="113.3745">不处在更新流中</text><rect fill="#FEFECE" filter="url(#f1cqch031cl51n)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="235" x="10" y="137.9688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="215" x="20" y="159.1074">当前变更组件存入 dirtyComponent 中</text><ellipse cx="127.5" cy="201.9375" fill="#FFFFFF" filter="url(#f1cqch031cl51n)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 2.5;" x1="121.3128" x2="133.6872" y1="195.7503" y2="208.1247"/><line style="stroke: #000000; stroke-width: 2.5;" x1="133.6872" x2="121.3128" y1="195.7503" y2="208.1247"/><rect fill="#FEFECE" filter="url(#f1cqch031cl51n)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="175" x="265" y="137.9688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="155" x="275" y="159.1074">遍历 dirtyComponent 更新</text><ellipse cx="352.5" cy="201.9375" fill="#FFFFFF" filter="url(#f1cqch031cl51n)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 2.5;" x1="346.3128" x2="358.6872" y1="195.7503" y2="208.1247"/><line style="stroke: #000000; stroke-width: 2.5;" x1="358.6872" x2="346.3128" y1="195.7503" y2="208.1247"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="240" x2="240" y1="30" y2="50"/><polygon fill="#A80036" points="236,40,240,50,244,40,240,44" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="127.5" x2="127.5" y1="171.9375" y2="191.9375"/><polygon fill="#A80036" points="123.5,181.9375,127.5,191.9375,131.5,181.9375,127.5,185.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="352.5" x2="352.5" y1="171.9375" y2="191.9375"/><polygon fill="#A80036" points="348.5,181.9375,352.5,191.9375,356.5,181.9375,352.5,185.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="175" x2="127.5" y1="115.9688" y2="115.9688"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="127.5" x2="127.5" y1="115.9688" y2="137.9688"/><polygon fill="#A80036" points="123.5,127.9688,127.5,137.9688,131.5,127.9688,127.5,131.9688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="305" x2="352.5" y1="115.9688" y2="115.9688"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="352.5" x2="352.5" y1="115.9688" y2="137.9688"/><polygon fill="#A80036" points="348.5,127.9688,352.5,137.9688,356.5,127.9688,352.5,131.9688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="240" x2="240" y1="83.9688" y2="103.9688"/><polygon fill="#A80036" points="236,93.9688,240,103.9688,244,93.9688,240,97.9688" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
start

#82F49C:this.setState(newState);
if (isBatchingUpdates) then (处在更新流中)
  :当前变更组件存入 dirtyComponent 中; 
  end
else (不处在更新流中)
  :遍历 dirtyComponent 更新;
  end
endif
@enduml

PlantUML version 1.2019.04(Fri Mar 29 15:44:36 UTC 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_212-8u212-b01-1~deb9u1-b01
Operating System: Linux
OS Version: 3.10.0-957.1.3.el7.x86_64
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>