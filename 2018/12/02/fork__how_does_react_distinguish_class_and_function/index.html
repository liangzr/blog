<!DOCTYPE HTML>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  
  <title>ã€Œè¯‘ã€How Does React Tell a Class from a Function?? | OVERLOADING ğŸ”¥</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  
    <meta name="author" content="Jory Liang">
  
  
    <meta name="description" content="æœ¬æ–‡è½¬è½½å¹¶ç¿»è¯‘äº Dan Abramov çš„åšå®¢ overreacted.io

çœ‹ä¸€ä¸‹ä¸‹é¢è¿™ä¸ªç”¨å‡½æ•°å®šä¹‰çš„ Greeting ç»„ä»¶:
123function Greeting() &amp;#123;  return &amp;lt;p&amp;gt;Hello&amp;lt;/p&amp;gt;;&amp;#125;
React åŒæ ·ä¹Ÿæ”¯æŒä½¿ç”¨ Class æ¥å®šä¹‰å®ƒï¼š
12345class Greeting extends React.C">
  
  <meta name="description" content="æœ¬æ–‡è½¬è½½å¹¶ç¿»è¯‘äº Dan Abramov çš„åšå®¢ overreacted.io  çœ‹ä¸€ä¸‹ä¸‹é¢è¿™ä¸ªç”¨å‡½æ•°å®šä¹‰çš„ Greeting ç»„ä»¶: 123function Greeting() &amp;#123;  return &amp;lt;p&amp;gt;Hello&amp;lt;/p&amp;gt;;&amp;#125; React åŒæ ·ä¹Ÿæ”¯æŒä½¿ç”¨ Class æ¥å®šä¹‰å®ƒï¼š 12345class Greeting extends React.C">
<meta name="keywords" content="react,reprinted">
<meta property="og:type" content="article">
<meta property="og:title" content="ã€Œè¯‘ã€How Does React Tell a Class from a Function??">
<meta property="og:url" content="https://blog.liangzr.tech/2018/12/02/fork__how_does_react_distinguish_class_and_function/index.html">
<meta property="og:site_name" content="OVERLOADING ğŸ”¥">
<meta property="og:description" content="æœ¬æ–‡è½¬è½½å¹¶ç¿»è¯‘äº Dan Abramov çš„åšå®¢ overreacted.io  çœ‹ä¸€ä¸‹ä¸‹é¢è¿™ä¸ªç”¨å‡½æ•°å®šä¹‰çš„ Greeting ç»„ä»¶: 123function Greeting() &amp;#123;  return &amp;lt;p&amp;gt;Hello&amp;lt;/p&amp;gt;;&amp;#125; React åŒæ ·ä¹Ÿæ”¯æŒä½¿ç”¨ Class æ¥å®šä¹‰å®ƒï¼š 12345class Greeting extends React.C">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-03-11T14:08:49.421Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ã€Œè¯‘ã€How Does React Tell a Class from a Function??">
<meta name="twitter:description" content="æœ¬æ–‡è½¬è½½å¹¶ç¿»è¯‘äº Dan Abramov çš„åšå®¢ overreacted.io  çœ‹ä¸€ä¸‹ä¸‹é¢è¿™ä¸ªç”¨å‡½æ•°å®šä¹‰çš„ Greeting ç»„ä»¶: 123function Greeting() &amp;#123;  return &amp;lt;p&amp;gt;Hello&amp;lt;/p&amp;gt;;&amp;#125; React åŒæ ·ä¹Ÿæ”¯æŒä½¿ç”¨ Class æ¥å®šä¹‰å®ƒï¼š 12345class Greeting extends React.C">
  
  
    <link href="/favicon.png" rel="icon">
  
  <link rel="stylesheet" href="/css/style.css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  


<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?822020422769969dec75820ad85d1b63";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

</head>
</html>
<body>
  <div class="wrapper">
    <header id="header">
  <div class="title">
    <h1><a href="/">OVERLOADING ğŸ”¥</a></h1>
    <p><a href="/">Keep and carry on</a></p>
  </div>
  <nav class="nav">
    <ul>
      
        <li><a href="/">Home</a></li>
      
        <li><a href="/archives">Archives</a></li>
      
        <li><a href="/about">About</a></li>
      
      
    </ul>
    <div class="clearfix"></div>
  </nav>
  <div class="clearfix"></div>
</header>
    <div class="content"><article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2018/12/02/fork__how_does_react_distinguish_class_and_function/">
  <time datetime="2018-12-01T16:00:00.000Z">
    2018-12-02
  </time>
</a>
    
    
  
    <h1 class="title">ã€Œè¯‘ã€How Does React Tell a Class from a Function??</h1>
  

  </header>
  
  <div class="entry">
    
      <blockquote>
<p>æœ¬æ–‡è½¬è½½å¹¶ç¿»è¯‘äº <a href="https://twitter.com/dan_abramov" target="_blank" rel="noopener">Dan Abramov</a> çš„åšå®¢ <a href="https://overreacted.io/how-does-react-tell-a-class-from-a-function/" target="_blank" rel="noopener">overreacted.io</a></p>
</blockquote>
<p>çœ‹ä¸€ä¸‹ä¸‹é¢è¿™ä¸ªç”¨å‡½æ•°å®šä¹‰çš„ <code>Greeting</code> ç»„ä»¶:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Greeting</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &lt;p&gt;Hello&lt;/p&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>React åŒæ ·ä¹Ÿæ”¯æŒä½¿ç”¨ Class æ¥å®šä¹‰å®ƒï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Greeting</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> &lt;p&gt;Hello&lt;/p&gt;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>(ç›´åˆ°<a href="https://reactjs.org/docs/hooks-intro.html" target="_blank" rel="noopener">æœ€è¿‘</a>ï¼Œè¿™éƒ½æ˜¯ä½¿ç”¨ state ç‰¹æ€§çš„å”¯ä¸€æ–¹å¼)</p>
<p>å½“ä½ å»æ¸²æŸ“ä¸€ä¸ª <code>&lt;Greeting /&gt;</code> ç»„ä»¶æ—¶ï¼Œä½ å¹¶ä¸å…³å¿ƒå®ƒæ˜¯å¦‚ä½•å®šä¹‰çš„ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Class or function â€” whatever.</span></span><br><span class="line">&lt;Greeting /&gt;</span><br></pre></td></tr></table></figure>
<p>ä½†è¿™å´æ˜¯ React è‡ªèº«éœ€è¦å…³æ³¨çš„!</p>
<p>å¦‚æœ <code>Greeting</code> æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ŒReact éœ€è¦è°ƒç”¨å®ƒï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Your code</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Greeting</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &lt;p&gt;Hello&lt;/p&gt;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Inside React</span></span><br><span class="line"><span class="keyword">const</span> result = Greeting(props); <span class="comment">// &lt;p&gt;Hello&lt;/p&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä½†å¦‚æœ <code>Greeting</code> æ˜¯ä¸€ä¸ª Classï¼ŒReact éœ€è¦ç”¨ <code>new</code> æ“ä½œç¬¦å»åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œç„¶åå†è°ƒç”¨è¿™ä¸ªå®ä¾‹çš„ <code>render</code> æ–¹æ³•ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Your code</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Greeting</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> &lt;p&gt;Hello&lt;/p&gt;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Inside React</span></span><br><span class="line"><span class="keyword">const</span> instance = <span class="keyword">new</span> Greeting(props); <span class="comment">// Greeting &#123;&#125;</span></span><br><span class="line"><span class="keyword">const</span> result = instance.render(); <span class="comment">// &lt;p&gt;Hello&lt;/p&gt;</span></span><br></pre></td></tr></table></figure>
<p>è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼ŒReact çš„æœ€ç»ˆç›®æ ‡éƒ½æ˜¯è·å–æ¸²æŸ“åçš„èŠ‚ç‚¹ï¼ˆåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå°±æ˜¯ <code>&lt;p&gt;Hello&lt;/p&gt;</code>ï¼‰ã€‚ä½†å…·ä½“çš„æ­¥éª¤å´æ˜¯æ ¹æ® <code>Greeting</code> æ˜¯å¦‚ä½•å®šä¹‰æ¥çš„ã€‚</p>
<p><strong>æ‰€ä»¥ React æ˜¯å¦‚ä½•è¾¨åˆ« Class å’Œå‡½æ•°çš„ï¼Ÿ</strong></p>
<a id="more"></a>
<p>å°±åƒ<a href="https://overreacted.io/why-do-we-write-super-props/" target="_blank" rel="noopener">ä¸Šä¸€ç¯‡æ–‡ç« </a>æ‰€è¿°ï¼Œ<strong>äº†è§£è¿™ä¸ªä¸èƒ½å¸®åŠ©ä½ æ›´æœ‰æ•ˆçš„è¿ç”¨ React</strong>ï¼Œå¤šå¹´æ¥æˆ‘ä¹Ÿä¸æ¸…æ¥šç»†èŠ‚ï¼Œä¹Ÿè¯·ä¸è¦æŠŠè¿™ç¯‡æ¢è®¨ä½œä¸ºé¢è¯•é¢˜æ¥è€ƒã€‚äº‹å®ä¸Šï¼Œè¿™ç¯‡æ–‡ç« å’Œ JavaScript çš„å…³ç³»æ›´å¤§ã€‚</p>
<p>è¿™ç¯‡æ–‡ç« æ˜¯ä¸ºäº†è®©é‚£äº›å¯¹ React è¿ä½œæœºåˆ¶å¥½å¥‡çš„äººè€Œå†™çš„ï¼Œå¦‚æœä½ å°±æ˜¯ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ¥æ·±å…¥åœ°äº†è§£ä¸‹å®ƒï¼</p>
<p><strong>è¿™å°†æ˜¯ä¸€æ–­å†—é•¿çš„è¿‡ç¨‹ï¼Œè¯·é›†ä¸­æ³¨æ„ã€‚è¿™ç¯‡æ–‡ç« è·Ÿ React è‡ªèº«å…³ç³»ä¸ä¼šå¾ˆå¤§ï¼Œä½†æˆ‘ä»¬å°†ä¼šæ¥è§¦ <code>new</code>ã€<code>this</code>ã€<code>class</code>ã€<code>arrow functions</code>ã€<code>prototype</code>ã€<code>__proto__</code>ã€<code>instanceof</code> ä»¥åŠå®ƒä»¬æ˜¯å¦‚ä½•åœ¨ JavaScript ä¸­ååŒå·¥ä½œçš„ã€‚å¹¸è¿çš„æ˜¯ï¼Œå¦‚æœä½ åªæ˜¯ React çš„ä½¿ç”¨è€…ï¼Œä½ ä¸éœ€è¦äº†è§£è¿™äº›å†…å®¹ã€‚ä½†å¦‚æœä½ æ­£åœ¨å‚ä¸ React çš„å®ç°â€¦â€¦</strong></p>
<p>ï¼ˆå¦‚æœä½ åªæƒ³çŸ¥é“ç»“è®ºï¼Œç›´æ¥æ»‘åˆ°æœ€ä¸‹é¢ï¼‰</p>
<hr>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“åŒºåˆ†å¯¹å¾… functions å’Œ classes çš„é‡è¦æ€§ã€‚å…ˆæ¥çœ‹ä¸‹æˆ‘ä»¬åœ¨ä½¿ç”¨å®ä¾‹åŒ–ä¸€ä¸ª class æ—¶ï¼Œå¦‚æœä½¿ç”¨ <code>new</code> æ“ä½œç¬¦ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// If Greeting is a function</span></span><br><span class="line"><span class="keyword">const</span> result = Greeting(props); <span class="comment">// &lt;p&gt;Hello&lt;/p&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// If Greeting is a class</span></span><br><span class="line"><span class="keyword">const</span> instance = <span class="keyword">new</span> Greeting(props); <span class="comment">// Greeting &#123;&#125;</span></span><br><span class="line"><span class="keyword">const</span> result = instance.render(); <span class="comment">// &lt;p&gt;Hello&lt;/p&gt;</span></span><br></pre></td></tr></table></figure>
<p>è®©æˆ‘ä»¬ç²—ç•¥åœ°äº†è§£ä¸‹ <code>new</code> æ“ä½œç¬¦åœ¨ JavaScript ä¸­éƒ½åšäº†ä»€ä¹ˆã€‚</p>
<hr>
<p>åœ¨å¾ˆæ—©ä¹‹å‰ï¼ŒJavaScript å¹¶æ²¡æœ‰ classesã€‚ç„¶è€Œï¼Œä½ å¯ä»¥ä½¿ç”¨æ™®é€šçš„å‡½æ•°æ¥å®ç°ç±»ä¼¼çš„æ¨¡å¼ã€‚å…·ä½“è¯´å°±æ˜¯ï¼Œä½ å¯ä»¥æŠŠä»»ä½•å‡½æ•°å½“æˆä¸€ä¸ª class çš„ constructorï¼Œåªè¦ä½ å¯¹å®ƒä½¿ç”¨ <code>new</code> æ“ä½œç¬¦:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Just a function</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> fred = <span class="keyword">new</span> Person(<span class="string">'Fred'</span>); <span class="comment">// âœ… Person &#123;name: 'Fred'&#125;</span></span><br><span class="line"><span class="keyword">var</span> george = Person(<span class="string">'George'</span>); <span class="comment">// ğŸ”´ Wonâ€™t work</span></span><br></pre></td></tr></table></figure>

    
  </div>
  <footer>
    
      
      
  <div class="tags">
    <a class="tags-link" href="/tags/react/">react</a>, <a class="tags-link" href="/tags/reprinted/">reprinted</a>
  </div>

    
    <div class="clearfix"></div>
  </footer>
</article>


<section id="comment">
  <h1 class="title">Comments</h1>
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>
</div>
  </div>
  <footer id="footer"><div class="copyright">
  
  &copy; 2019 <a href="/">Jory Liang</a>
  
</div>
<div class="theme-copyright">
  Theme by <a href="https://github.com/orderedlist" target="_blank">orderedlist</a>
   | 
  Redesign by <a href="http://heroicyang.com/" target="_blank">Heroic Yang</a>
</div>
<div class="clearfix"></div>
</footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
<script src="/js/scale.fix.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
  var disqus_shortname = 'liangzr';

  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  }());
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
  (function($){
    $('.fancybox').fancybox();
  })(jQuery);
</script>

</body>
</html>