<!DOCTYPE HTML>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">
  
  <title>è¯‘-Why Do We Write super(props)? | OVERLOADING</title>
  <meta name="author" content="Jory Liang">
  
  <meta name="description" content="æœ¬æ–‡è½¬è½½äº Dan Abramov çš„åšå®¢ overreacted.io">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="è¯‘-Why Do We Write super(props)?">
  <meta property="og:site_name" content="OVERLOADING">

  
    <meta property="og:image" content>
  

  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', '', 'auto');
  ga('send', 'pageview');
</script>




</head>
</html>
 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">OVERLOADING</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class="fa fa-tags"></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class="fa fa-user"></i>About
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header">
			<h1> è¯‘-Why Do We Write super(props)?</h1>
		</div>
	



<div class="row post">
	<!-- cols -->
	
	<div id="top_meta"></div>
	<div class="col-md-9">
	

	<!-- content -->
	<div class="mypage">		
	  
		 <div class="alert alert-success description">
			<i class="fa fa-info-circle"></i> æœ¬æ–‡è½¬è½½äº Dan Abramov çš„åšå®¢ overreacted.io
		 </div> <!-- alert -->
	  		

	  <p><a href="https://reactjs.org/docs/hooks-intro.html" target="_blank" rel="noopener">React Hooks</a> æ˜¯å½“ä¸‹ç¤¾åŒºçš„çƒ­é—¨ï¼Œä½†æˆ‘å´æƒ³ä» <em>class</em> ç»„ä»¶çš„ä¸€äº›æœ‰è¶£å®ç°è®²èµ·ï¼</p>
<p>ç†è§£è¿™äº›å†…å®¹å¯¹ä½ å¦‚ä½•è¿ç”¨ React æ¥è¯´å¹¶ä¸é‡è¦ï¼Œä½†å¦‚æœä½ å–œæ¬¢æ¢å¯»äº‹ç‰©åŠ¨ä½œçš„åŸç†çš„è¯ï¼Œå°±å¾ˆæœ‰è¶£äº†ã€‚</p>
<hr>
<p>æˆ‘å†™è¿‡ä¸è®¡å…¶æ•°çš„ <code>super(props)</code> :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Checkbox</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123; <span class="attr">isOn</span>: <span class="literal">true</span> &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å½“ç„¶ï¼Œä½¿ç”¨ <a href="https://github.com/tc39/proposal-class-fields" target="_blank" rel="noopener">class fields proposal</a> å¯ä»¥è®©æˆ‘çœå»è¿™ç§å†™æ³•ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Checkbox</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123; <span class="attr">isOn</span>: <span class="literal">true</span> &#125;;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>React ä» 0.13 å¢åŠ å¯¹æ™®é€š class çš„æ”¯æŒå¼€å§‹ï¼Œå°±è®¡åˆ’è¦ä½¿ç”¨è¿™ç§è¯­æ³•ã€‚ç°åœ¨è¿™ç§å®šä¹‰ <code>constructor</code> ç„¶åè°ƒç”¨ <code>super(props)</code> çš„åšæ³•åªæ˜¯ <code>class field</code> æ¥ä¸´ä¹‹å‰çš„ä¸€ç§æ›¿ä»£æ–¹æ¡ˆã€‚</p>
<a id="more"></a>
<p>ä½†æ˜¯ç°åœ¨è®©æˆ‘ä»¬å›åˆ°è¿™ä¸ªä¾‹å­ï¼Œåªä½¿ç”¨ ES2015 çš„ç‰¹æ€§ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">lass Checkbox extends React.Component &#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123; <span class="attr">isOn</span>: <span class="literal">true</span> &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦è°ƒç”¨ <code>super</code>ï¼Ÿå¯ä»¥çœå»å—ï¼Ÿå¦‚æœæˆ‘ä»¬ä¸å¾—ä¸è°ƒç”¨å®ƒï¼Œä¸ä¼  <code>props</code> ä¼šæ€ä¹ˆæ ·ï¼Ÿé™¤äº† <code>props</code> è¿˜éœ€è¦ä¼ é€’åˆ«çš„å‚æ•°å—ï¼Ÿæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ã€‚</p>
<hr>
<p>åœ¨ JavaScript ä¸­, <code>super</code> æŒ‡çš„æ˜¯çˆ¶ç±»çš„ constructorï¼ˆåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œå®ƒæŒ‡çš„å°±æ˜¯ React.Componentï¼‰</p>
<p>è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ constructor ä¸­ï¼Œä½ åªèƒ½åœ¨è°ƒç”¨çˆ¶ç±»çš„ constructor ä¹‹åæ‰èƒ½ä½¿ç”¨ <code>this</code>ï¼ŒJavaScript ä¸ä¼šè®©ä½ è¿™æ ·åšï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Checkbox</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="comment">// ğŸ”´ Canâ€™t use `this` yet</span></span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="comment">// âœ… Now itâ€™s okay though</span></span><br><span class="line">    <span class="keyword">this</span>.state = &#123; <span class="attr">isOn</span>: <span class="literal">true</span> &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æœ‰ä¸€ä¸ªå¾ˆå¥½çš„ç†ç”±è¯´æ˜ä¸ºä»€ä¹ˆ JavaScript å¼ºåˆ¶ä½ åœ¨ä½¿ç”¨ <code>this</code> ä¹‹å‰è¦æ‰§è¡Œçˆ¶ç±»çš„ constructorï¼Œå‚è€ƒä¸‹é¢è¿™ä¸ªç±»ç»“æ„ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PolitePerson</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">    <span class="keyword">this</span>.greetColleagues(); <span class="comment">// ğŸ”´ This is disallowed, read below why</span></span><br><span class="line">    <span class="keyword">super</span>(name);</span><br><span class="line">  &#125;</span><br><span class="line">  greetColleagues() &#123;</span><br><span class="line">    alert(<span class="string">'Good morning folks!'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœä½ åœ¨è°ƒç”¨ <code>super</code> ä¹‹å‰å°±è°ƒç”¨äº† <code>this</code>ï¼Œä¸€ä¸ªæœˆä¹‹åï¼Œæˆ‘ä»¬å¯èƒ½ä¿®æ”¹äº† <code>greetColleagues</code> æ–¹æ³•ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">greetColleagues() &#123;</span><br><span class="line">  alert(<span class="string">'Good morning folks!'</span>);</span><br><span class="line">  alert(<span class="string">'My name is '</span> + <span class="keyword">this</span>.name + <span class="string">', nice to meet you!'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½†æˆ‘ä»¬å¿˜è®°äº† <code>this.greetColleagues()</code> æ˜¯åœ¨ <code>super()</code> ä¹‹å‰è°ƒç”¨çš„ï¼Œè¿™ä¸ªæ—¶å€™ <code>this.name</code> è¿˜æ²¡æœ‰è¢«å®šä¹‰ï¼æ‰€ä»¥åƒè¿™æ ·çš„ä»£ç å°±å¾ˆä¸å¥½ç»´æŠ¤ã€‚</p>
<p>ä¸ºäº†é¿å¼€è¿™ä¸ªé™·é˜±ï¼Œ<strong>JavaScript å¼ºåˆ¶ä½ å¦‚æœæƒ³è¦åœ¨ constructor ä¸­ä½¿ç”¨ <code>this</code>ï¼Œåˆ™å¿…é¡»å…ˆè°ƒç”¨ <code>super</code></strong>ï¼Œè®©çˆ¶ç±»å…ˆå¤„ç†å®Œè¯¥åšçš„äº‹æƒ…ï¼è¿™ä¸ªé™åˆ¶ä¹Ÿé€‚ç”¨äºä½¿ç”¨ç±»æ¥å®šä¹‰ React ç»„ä»¶ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">  <span class="keyword">super</span>(props);</span><br><span class="line">  <span class="comment">// âœ… Okay to use `this` now</span></span><br><span class="line">  <span class="keyword">this</span>.state = &#123; <span class="attr">isOn</span>: <span class="literal">true</span> &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨æˆ‘ä»¬å°±åªå‰©ä¸‹å¦å¤–ä¸€ä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆè¦ä¼ é€’ <code>props</code> å‚æ•°ï¼Ÿ</p>
<hr>
<p>ä½ å¯èƒ½è®¤ä¸ºå‘ <code>super</code> ä¼ é€’ <code>props</code> æ˜¯æœ‰å¿…è¦çš„ï¼Œä»¥ä¾¿ <code>React.Component</code> çš„ constructor å¯ä»¥åˆå§‹åŒ– <code>this.props</code>ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Inside React</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">this</span>.props = props;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>äº‹å®ä¹Ÿå·®ä¸å¤šï¼Œå‡†ç¡®åœ°è¯´ï¼Œè¿™æ˜¯<a href="https://github.com/facebook/react/blob/1d25aa5787d4e19704c049c3cfa985d3b5190e0d/packages/react/src/ReactBaseClasses.js#L22" target="_blank" rel="noopener">å®ƒçš„è¿‡ç¨‹</a></p>
<p>ä½†ä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œå³ä½¿ä½ æ²¡æœ‰æŠŠ <code>props</code> å‚æ•°ä¼ é€’ç»™ <code>super()</code>ï¼Œä½ è¿˜æ˜¯å¯ä»¥åœ¨ <code>render</code> å’Œå…¶å®ƒæ–¹æ³•ä¸­è®¿é—® <code>this.props</code>ã€‚ï¼ˆä¸ä¿¡çš„è¯å¯ä»¥è¯•è¯•çœ‹ï¼‰</p>
<p>æ‰€ä»¥å®ƒå†…éƒ¨æ˜¯å¦‚ä½•è¿ä½œçš„ï¼Ÿäº‹å®ä¸Šï¼ŒReact ä¼šåœ¨ä½ è°ƒç”¨ constructor ä¹‹åé‡æ–°èµ‹å€¼ <code>props</code>:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Inside React</span></span><br><span class="line"><span class="keyword">const</span> instance = <span class="keyword">new</span> YourComponent(props);</span><br><span class="line">instance.props = props;</span><br></pre></td></tr></table></figure>
<p>æ‰€ä»¥å³ä½¿ä½ å¿˜äº†æŠŠ <code>props</code> ä¼ é€’ç»™ <code>super()</code>ï¼ŒReact ä¹Ÿä¼šåœ¨ä¹‹åæ­£ç¡®çš„èµ‹å€¼ï¼Œè¿™å°±æ˜¯åŸå› ã€‚</p>
<p>å½“ React æ”¯æŒ class çš„æ—¶å€™ï¼Œå¹¶ä¸åªæ˜¯ç®€å•çš„æ·»åŠ äº† ES6 çš„ç‰¹æ€§ï¼Œå®ƒçš„ç›®æ ‡æ˜¯å°½å¯èƒ½å¹¿æ³›æŠ½è±¡åœ°æ”¯æŒ classã€‚å› ä¸ºä¸èƒ½ç¡®å®š ClojureScriptã€CoffeeScriptã€ES6ã€Fableã€Scala.jsã€TypeScript æˆ–å…¶å®ƒçš„æ–¹å¼æ˜¯å¦‚ä½•å®šä¹‰ä¸€ä¸ªç»„ä»¶çš„ï¼Œæ‰€ä»¥ React æ•…æ„åœ°ä¸å…³å¿ƒ <code>super()</code> æ–¹æ³•æœ‰æ²¡æœ‰è¢«è°ƒç”¨â€”â€”å°½ç®¡è¿™æ˜¯ ES6 class è§„å®šçš„</p>
<p>æ‰€ä»¥ï¼Œè¿™æ˜¯ä¸æ˜¯å°±æ„å‘³ç€ï¼Œä½ å¯ä»¥åªå†™ <code>super()</code> è€Œä¸ç”¨ <code>super(props)</code> äº†ï¼Ÿ</p>
<p><strong>ææ€•å¹¶ä¸æ˜¯è¿™æ ·ï¼Œå› ä¸ºå®ƒä¾ç„¶ä»¤äººå›°æƒ‘ã€‚</strong> å½“ç„¶ï¼ŒReact ä¼šåœ¨ constructor ä¹‹åé‡æ–°èµ‹å€¼ <code>this.props</code>ï¼Œä½†æ˜¯åœ¨ constructor å†…éƒ¨è°ƒç”¨äº† <code>super</code> ä¹‹åï¼Œ<code>this.props</code> ä¾ç„¶æ˜¯ <code>undefined</code>ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Inside React</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">this</span>.props = props;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Inside your code</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Button</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(); <span class="comment">// ğŸ˜¬ We forgot to pass props</span></span><br><span class="line">    <span class="built_in">console</span>.log(props);      <span class="comment">// âœ… &#123;&#125;</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.props); <span class="comment">// ğŸ˜¬ undefined </span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæ˜¯åœ¨ constructor ä¸­è°ƒç”¨çš„æŸäº›æ–¹æ³•ä¸­é‡åˆ°äº†è¿™ç§é—®é¢˜ï¼Œå°±æ›´éš¾å®šä½äº†ã€‚<strong>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¦å¼ºè°ƒè¦åšæŒ<code>super(props)</code>ï¼Œå³ä½¿æ²¡æœ‰ä¸¥æ ¼é™åˆ¶</strong>ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Button</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props); <span class="comment">// âœ… We passed props</span></span><br><span class="line">    <span class="built_in">console</span>.log(props);      <span class="comment">// âœ… &#123;&#125;</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.props); <span class="comment">// âœ… &#123;&#125;</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·å¯ä»¥ä¿è¯ <code>this.props</code> åœ¨ constructor æ‰§è¡Œå®Œä¹‹å‰å°±æ­£ç¡®èµ‹å€¼ã€‚</p>
<hr>
<p>è¿˜æœ‰æœ€åä¸€ä¸ª React ç”¨æˆ·å¯èƒ½ä¼šå›°æƒ‘çš„é—®é¢˜ã€‚</p>
<p>ä½ å¯èƒ½æ³¨æ„åˆ°äº†ï¼Œå½“ä½ ä½¿ç”¨ Context API çš„æ—¶å€™ï¼ˆæ— è®ºæ˜¯æ—§çš„ <code>contextTypes</code> æˆ–è€…åœ¨ React 16.6 ä¸­æ–°æ·»åŠ çš„ <code>contextType</code> APIï¼‰ï¼Œ<code>context</code> æ˜¯ constructor çš„ç¬¬äºŒä¸ªå‚æ•°ã€‚</p>
<p>æ‰€ä»¥ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸å†™æˆ <code>super(props, context)</code>ï¼Ÿç¡®å®å¯ä»¥è¿™æ ·å†™ï¼Œä½†æ˜¯ context ç”¨çš„ç›¸å¯¹æ¯”è¾ƒå°‘ï¼Œæ‰€ä»¥ä¹Ÿä¸å®¹æ˜“ç¢°åˆ°è¿™ä¸ªé™·é˜±ã€‚</p>
<p>å¦‚æœä½¿ç”¨ class fields proposal çš„è¯ï¼Œè¿™ä¸ªé™·é˜±å°±ä¸å¤å­˜åœ¨äº†ã€‚ä¸éœ€è¦ç‰¹åˆ«åœ°å†™ä¸€ä¸ª constructorï¼Œæ‰€ä»¥çš„å˜é‡éƒ½å¯ä»¥è‡ªåŠ¨ä¼ é€’ã€‚è¿™æ ·ä¹Ÿå¯ä»¥åœ¨ <code>state = {}</code> ä¸­ç›´æ¥å¼•ç”¨ <code>this.props</code> æˆ– <code>this.context</code> äº†ã€‚</p>
<p>å½“ç„¶ï¼Œä½¿ç”¨ React Hooks çš„è¯ï¼Œæˆ‘ä»¬ç”šè‡³ä¸éœ€è¦ä½¿ç”¨ <code>super</code> æˆ– <code>this</code>ï¼Œä½†è¿™æ˜¯ä»¥åçš„äº‹å„¿äº†ã€‚</p>
	  
	</div>

	<div>
  	<center>
	<div class="pagination">

    
    
    <a type="button" class="btn btn-default disabled"><i class="fa fa-arrow-circle-o-left"></i>Prev</a>
    

    <a href="/" type="button" class="btn btn-default"><i class="fa fa-home"></i>Home</a>
    
    <a href="/2018/05/29/optimizing-react-app-with-immutable-data/" type="button" class="btn btn-default ">Next<i class="fa fa-arrow-circle-o-right"></i></a>
    

    
</div>

    </center>
	</div>
	
	<!-- comment -->
	
<section id="comment">
    <h2 class="title">Comments</h2>

    
    <div id="disqus_thread" class="ds-thread">
        <script type="text/javascript">
            /**
             * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
             * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
             */
                /*
                 var disqus_config = function () {
                 this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
                 this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
                 };
                 */
            (function() { // DON'T EDIT BELOW THIS LINE
                var d = document, s = d.createElement('script');

                s.src = '//liangzr.disqus.com/embed.js';

                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by
                Disqus.</a></noscript>
    </div>
    
</section>


	</div> <!-- col-md-9/col-md-12 -->
		
	
	<div id="side_meta">
		<div class="col-md-3" id="post_meta"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2018-12-30 
	</div>
	

	<!-- categories -->
    

	<!-- tags -->
	
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#tags"><i class="fa fa-tags"></i></a>		  
    <ul id="tags" class="tag_box list-unstyled collapse in">	  
	    
  <li><a href="/tags/react/">react<span>2</span></a></li> <li><a href="/tags/reprinted/">reprinted<span>1</span></a></li>
    </ul>
	</div>
		

	<!-- toc -->
	<div class="meta-widget">
	
	   <a data-toggle="collapse" data-target="#toc"><i class="fa fa-bars"></i></a>
	   <div id="toc" class="toc collapse in">
		   <span class="toc-title">Contents</span>
			
		</div>
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->

	</div>
		

</div><!-- row -->

<script type="text/javascript">
var disqus_shortname = 'liangzr';
(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>



	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2019 Jory Liang
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a>,<a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>,<a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a> and <a href="http://getbootstrap.com/" target="_blank">BOOTSTRA.386</a>. 
     <br> Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind.386</a>.    
</p>
 </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>â¬†ï¸TOP</span>
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>

</body>
   </html>
